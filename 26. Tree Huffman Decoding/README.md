# Tree: Huffman Decoding

[![]( https://img.shields.io/badge/Бодлогын_линк-blue)](https://www.hackerrank.com/challenges/tree-huffman-decoding/problem?isFullScreen=false)

## Бодлогын тайлбар

Huffman кодчилол нь тэмдэгтүүдийн давтамжад тулгуурлан хувьсах урттай код үгс (codewords) өгдөг. Илүү их давтамжтай тэмдэгтүүдэд богино код үгс, бага давтамжтай тэмдэгтүүдэд урт код үгс оноодог. Модны навч хүртэлх бүх ирмэгүүд нь кодын цифр агуулна. Хэрэв тэд модны зүүн талд байвал 0 (тэг), баруун талд байвал 1 (нэг) байна. Зөвхөн навчнууд нь тэмдэгт болон түүний давтамжийг агуулна. Бусад бүх зангилаануудад тэмдэгтийн оронд null утга, мөн өөртөө болон дэд модны бүх тэмдэгтүүдийн давтамжийн нийлбэр байна.

Жишээлбэл, "ABRACADABRA" гэх тэмдэгт мөрийг авч үзье. Энэ мөрөнд нийт 11 тэмдэгт байгаа бөгөөд энэ тоо модны эцсийн язгуур зангилааны давтамжтай таарч байх ёстой. Манай давтамжууд: A=5, B=2, R=2, C=1, D=1. Хамгийн бага давтамжууд нь C ба D, хоёулаа 1 тул бид тэдгээрийг агуулсан мод үүсгэнэ. Язгуур зангилаа нь дэд модны давтамжуудын нийлбэрийг агуулна, энэ тохиолдолд 1+1=2. Зүүн зангилаа нь анх тааралдсан C тэмдэгт, баруун нь D тэмдэгт байх болно.

Дараа нь бид 2 давтамжтай 3 зүйлтэй: бидний саяхан үүсгэсэн мод, B тэмдэгт, R тэмдэгт. Мод хамгийн түрүүнд ирсэн тул шинэ язгуур зангилааны зүүн талд байрлана. B баруун талд байрлана. Мод бүрэн бүтэх хүртэл үүнийг давтаж, дараа нь ирмэгүүдэд 1 ба 0-үүдийг бөглөнө.

![Submit](/images/26.1.png)

Оролтын тэмдэгтүүд зөвхөн навчнуудад байна. Дотоод зангилаанууд (NULL) тэмдэгтэй байна. Манай тэмдэгтүүдийн кодчилол:
A-0
B-111
C-1100
D-1101
R-10

Бидний Huffman кодчилсон мөр:
AB RAC AD A B RA
0 111 10 0 1100 0 1101 0 111 10 0
эсвэл
01111001100011010111100

Хоёрдмол утгаас зайлсхийхийн тулд Huffman кодчилол нь угтварын чөлөөт кодчилолын арга юм. Ямар ч код үг нь өөр код үгийн угтвар болж чадахгүй.

Кодчилсон мөрийг декодлохын тулд 0 ба 1-үүдийг дагаж навч хүрч, тэндхийн тэмдэгтийг буцаана.

Та Huffman модны язгуур зангилааг зааж өгсөн холбоос болон кодчилсон хоёртын мөрөнд декод хийх шаардлагатай. Декодлосон мөрийг хэвлэх хэрэгтэй.

Функцийн тодорхойлолт:
decode_huff функцийг редакторт доорх ёсоор гүйцээнэ үү. Энэ нь декодлосон мөрийг буцаах ёстой.

decode_huff нь дараах параметрүүдтэй:

- root: Huffman модны язгуур зангилааг заах холбоос
- s: Huffman кодчилсон мөр

Оролтын формат:
Нэг мөрөнд plain текст мөр s өгөгдөнө. Background код нь Huffman модыг үүсгээд head зангилаа болон кодчилсон мөрийг функц руу дамжуулна.

**Хязгаарлалт:**

1 <= |s| <= 25

**Гаралтын формат:**

Нэг мөрөнд декодлосон мөрийг хэвлэнэ.

**Жишээ оролт:**

![Submit](/images/26.2.png)


```
s="1001011"
```

**Жишээ гаралт:**

```
ABACA
```

**Тайлбар:**

```
S="1001011"
```

```
Мөрийг зүүнээс баруун тийш боловсруулна:
S[0]='1' : язгуураас баруун дэд мод руу шилжинэ. 'A' утгатай навч зангилаатай таарна. Декодлосон мөрөнд 'A'-г нэмнэ.
Дараа нь язгуур руу буцна.
S[1]='0' : зүүн дэд мод руу шилжинэ.
S[2]='0' : зүүн дэд мод руу шилжинэ. 'B' утгатай навч зангилаатай таарна. 'B'-г декодлосон мөрөнд нэмнэ.
Дараа нь язгуур руу буцна.
S[3]='1' : язгуураас баруун дэд мод руу шилжинэ. 'A' утгатай навч зангилаатай таарна. 'A'-г декодлосон мөрөнд нэмнэ.
Дараа нь язгуур руу буцна.
S[4]='0' : зүүн дэд мод руу шилжинэ.
S[5]='1' : баруун дэд мод руу шилжинэ. 'C' утгатай навч зангилаатай таарна. 'C'-г декодлосон мөрөнд нэмнэ.
Дараа нь язгуур руу буцна.
S[6]='1' : язгуураас баруун дэд мод руу шилжинэ. 'A' утгатай навч зангилаатай таарна. 'A'-г декодлосон мөрөнд нэмнэ.
Дараа нь язгуур руу буцна.
Декодлосон мөр = "ABACA"
```

## Бодолт 

Энэ бодлогын гол зорилго нь Huffman кодчилолоор кодлосон хоёртын мөрийг анхны тэмдэгт мөр болгон декодлох юм. Үүний тулд:

1. Huffman модны бүтцийг ойлгох хэрэгтэй:

- Навчнууд нь бодит тэмдэгтүүдийг агуулна
- Дотоод зангилаанууд нь зөвхөн давтамжийн нийлбэртэй
- Зүүн ирмэг нь 0, баруун ирмэг нь 1-ийг илэрхийлнэ

```
abstract class Node implements Comparable<Node> {
    public int frequency;
    public char data;
    public Node left, right;
    
    public Node(int freq) { 
        frequency = freq; 
    }
    
    public int compareTo(Node tree) {
        return frequency - tree.frequency;
    }
}

class HuffmanLeaf extends Node {
    public HuffmanLeaf(int freq, char val) {
        super(freq);
        data = val;
    }
}

class HuffmanNode extends Node {
    public HuffmanNode(Node l, Node r) {
        super(l.frequency + r.frequency);
        left = l;
        right = r;
    }
}
```

2. Декодлох алгоритм:

- Мөрийг бит битээр нь уншина
- 0 бол зүүн дэд мод руу, 1 бол баруун дэд мод руу шилжинэ
- Навч хүртэл очиход тэмдэгтийг декодлосон мөрөнд нэмнэ
- Дараа нь язгуураас дахин эхэлнэ

```
    public static String decode_huff(Node root, String s) {
        StringBuilder result = new StringBuilder();
        Node current = root;
        
        for (int i = 0; i < s.length(); i++) {
            char c = s.charAt(i);
            if (c == '0') {
                current = current.left;
            } else {
                current = current.right;
            }
            
            if (current.left == null && current.right == null) {
                result.append(current.data);
                current = root;
            }
        }
        
        return result.toString();
    }
```


## Submit screenshot

![Submit](/images/26.submit.png)

